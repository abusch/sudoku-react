(this["webpackJsonpsudoku-react"]=this["webpackJsonpsudoku-react"]||[]).push([[0],{15:function(e,n,t){},23:function(e,n,t){},24:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),i=t(4),o=t.n(i),l=(t(15),t(2)),s=t(3),a=Object(s.b)({name:"selection",initialState:{row:0,column:0},reducers:{moveRight:function(e){e.column=8===e.column?0:e.column+1},moveLeft:function(e){e.column=0===e.column?8:e.column-1},moveUp:function(e){e.row=0===e.row?8:e.row-1},moveDown:function(e){e.row=8===e.row?0:e.row+1}}}),u=a.actions,d=u.moveRight,f=u.moveLeft,v=u.moveUp,j=u.moveDown,k=a.reducer;var h=t(5),b=t.n(h),p=Object(s.b)({name:"sudoku",initialState:[0,0,1,2,0,3,4,0,0,0,0,0,6,0,7,0,0,0,5,0,0,0,0,0,0,0,3,3,7,0,0,0,0,0,8,1,0,0,0,0,0,0,0,0,0,6,2,0,0,0,0,0,3,7,1,0,0,0,0,0,0,0,8,0,0,0,8,0,5,0,0,0,0,0,6,4,0,2,5,0,0].map((function(e){return{value:e,locked:0!==e,valid:!0,pencilMarks:[]}})),reducers:{setDigit:function(e,n){var t=n.payload,r=t.row,c=t.column,i=t.digit,o=e[9*r+c];o.locked||(o.value=i,o.pencilMarks=[],function(e,n,t,r){for(var c=9*n+t,i=3*Math.floor(n/3),o=3*Math.floor(t/3),l=0;l<9;l++){var s=9*n+l,a=9*l+t,u=9*(i+Math.floor(l/3))+(o+l%3),d=e[s],f=e[a],v=e[u];if(s!==c){var j=d.pencilMarks.indexOf(r);-1!==j&&d.pencilMarks.splice(j,1)}if(a!==c){var k=f.pencilMarks.indexOf(r);-1!==k&&f.pencilMarks.splice(k,1)}if(u!==c){var h=v.pencilMarks.indexOf(r);-1!==h&&v.pencilMarks.splice(h,1)}}}(e,r,c,i))},setPencilMark:function(e,n){var t=n.payload,r=t.row,c=t.column,i=t.digit,o=e[9*r+c];if(!o.locked){var l=o.pencilMarks.indexOf(i);-1!==l?o.pencilMarks.splice(l,1):(o.pencilMarks.push(i),o.value=0)}},verify:function(e){e.forEach((function(n,t){var r=Math.floor(t/9),c=t%9;n.locked||(n.valid=function(e,n,t,r){if(0===r)return!0;for(var c=9*n+t,i=3*Math.floor(n/3),o=3*Math.floor(t/3),l=0;l<9;l++){var s=9*n+l,a=9*l+t,u=9*(i+Math.floor(l/3))+(o+l%3),d=e[s].value,f=e[a].value,v=e[u].value;if(s!==c&&d===r||a!==c&&f===r||u!==c&&v===r)return!1}return!0}(e,r,c,n.value))}))},restart:function(e){e.forEach((function(e){e.locked||(e.value=0,e.pencilMarks=[],e.valid=!0)}))}}}),m=p.actions,O=m.setDigit,w=m.setPencilMark,x=m.verify,M=m.restart,y=b()(p.reducer),g=t(1),D=function(e){var n,t=["cell",e.selectedClass],r=e.value.pencilMarks.slice().sort().join(" ");return e.value.locked&&t.push("locked"),e.value.valid||t.push("invalid"),0===e.value.value?(n=r,t.push("pencilMark")):n=e.value.value,Object(g.jsx)("div",{className:t.join(" "),children:n})},C=function(e){for(var n=Object(l.c)((function(e){return e.selection})),t=Object(l.c)((function(e){return e.sudoku.present})),r=e.x,c=e.y,i=[],o=n.row,s=n.column,a=Math.floor(s/3),u=Math.floor(o/3),d=0;d<3;d++)for(var f=3*c+d,v=0;v<3;v++){var j=3*r+v,k=void 0,h=j+","+f+","+(k=j===s&&f===o?"selectedCell":j===s?"selectedColumn":f===o?"selectedRow":r===a&&c===u?"selectedBlock":"");i.push(Object(g.jsx)(D,{value:t[9*f+j],selectedClass:k},h))}return Object(g.jsx)("div",{className:"block",children:i})},A=function(){var e=function(e,n){return Object(g.jsx)(C,{x:e,y:n})};return Object(g.jsxs)("div",{className:"board",children:[e(0,0),e(1,0),e(2,0),e(0,1),e(1,1),e(2,1),e(0,2),e(1,2),e(2,2)]})},E=function(e){var n=Object(l.c)((function(e){return e.sudoku})),t=Object(l.b)();return Object(g.jsxs)("div",{className:"controls",children:[Object(g.jsx)("button",{id:"verify",onClick:function(){return t(x())},children:"Verify"}),Object(g.jsx)("button",{id:"restart",onClick:function(){return t(M())},children:"Restart"}),Object(g.jsx)("button",{id:"undo",onClick:function(){return t(h.ActionCreators.undo())},disabled:0===n.past.length,children:"Undo"})]})},N=(t(23),function(){var e=Object(l.c)((function(e){return e.selection})),n=Object(l.b)(),t=function(e){switch(e){case"Digit1":return 1;case"Digit2":return 2;case"Digit3":return 3;case"Digit4":return 4;case"Digit5":return 5;case"Digit6":return 6;case"Digit7":return 7;case"Digit8":return 8;case"Digit9":return 9;default:return}};return Object(r.useEffect)((function(){var r=function(r){var c=e.column,i=e.row;if("j"===r.key||"ArrowDown"===r.key)n(j());else if("k"===r.key||"ArrowUp"===r.key)n(v());else if("h"===r.key||"ArrowLeft"===r.key)n(f());else if("l"===r.key||"ArrowRight"===r.key)n(d());else if(t(r.code)){var o={column:c,row:i,digit:t(r.code)};r.shiftKey?n(w(o)):n(O(o))}else if("Backspace"===r.key){n(O({column:c,row:i,digit:0}))}};return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[n,e]),Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("h1",{children:"SUDOKU"}),Object(g.jsx)(A,{}),Object(g.jsx)(E,{}),Object(g.jsxs)("footer",{children:[Object(g.jsx)("div",{children:"\xa9 Copyright 2021, Antoine Busch"}),Object(g.jsxs)("div",{children:["Colours by ",Object(g.jsx)("a",{href:"https://www.nordtheme.com/",children:"Nord Theme"})]})]})]})}),U=Object(s.a)({reducer:{selection:k,sudoku:y}});o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(l.a,{store:U,children:Object(g.jsx)(N,{})})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.3d782c33.chunk.js.map